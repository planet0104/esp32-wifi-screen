[build]
# 默认使用 ESP32-S2
target = "xtensa-esp32s2-espidf"
target-dir = "C:/esp/target"

# ESP32-S2 配置
[target.xtensa-esp32s2-espidf]
linker = "ldproxy"
runner = "espflash flash --monitor"
rustflags = [
    "--cfg",  "espidf_time64"
]

# ESP32-S3 配置
[target.xtensa-esp32s3-espidf]
linker = "ldproxy"
runner = "espflash flash --monitor"
rustflags = [
    "--cfg",  "espidf_time64"
]

[unstable]
build-std = ["std", "panic_abort"]

# 注意：MCU 和 ESP_IDF_SDKCONFIG_DEFAULTS 环境变量
# 由构建脚本 (build_esp32s2.ps1 / build_esp32s3.ps1) 动态设置
# 不要在这里硬编码


